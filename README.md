# AppDynamics On-Prem Installation

## Description

This lab guides you through the process of installing and configuring the AppDynamics platform components for an on-premise deployment. The architecture diagram below shows these components with their communication paths and payloads.

![AppDynamics Architecture](https://github.com/user-attachments/assets/e4370117-b906-4fa4-a42d-14c3baf48d80)

In this lab, for simplicity, we will install all AppDynamics Components (Enterprise Console, Controller, Events Service, End User Monitoring Server) on a standalone Virtual Machine.

You will learn to:
1. Install the Enterprise Console (Platform Admin)
2. Install and configure the Controller software
3. Install and configure the Events Service
4. Install and configure the End User Monitoring (EUM) Server

The software versions used in the lab are the most recent generally available at the time the lab was created. Expect slight variations in command output or screenshots across versions.

---

## Setup

### Step 1: Prepare Virtual Machine Specs

- **Operating System:** Linux or Windows (This Guide is based on CentOS 7)
- **CPU:** 4 Cores (Minimum)
- **Memory:** 16 GB RAM (Minimum), 32 GB RAM (Recommended)
- **Storage:** 100 GB (Minimum)

---

### Step 2: Enterprise Console Requirements

The Enterprise Console can run on the same host as the Controller and the embedded Events Service. If this is the case, ensure the machine meets the requirements for all components.

1. Install Java:
   ```bash
   yum install java-17-openjdk java-17-openjdk-devel -y
   ```

2. Install required libraries:
   ```bash
   yum install libaio numactl tzdata ncurses-libs -y
   ```

   > Note: The above required libraries are for Red Hat and CentOS. For other distributions, refer to [Enterprise Console Requirements](https://docs.appdynamics.com/appd/onprem/24.x/24.4/en/enterprise-console/enterprise-console-requirements).

3. Configure system limits:
   ```bash
   vi /etc/security/limits.d/appdynamics.conf
   ```
   Add the following:
   ```bash
   * hard nofile 65535
   * soft nofile 65535
   * hard nproc 65535
   * soft nproc 65535
   ```
   Then **logout and login again**.

---

### Step 3: Install Enterprise Console (Platform Admin)

This utility provides a browser-based interface to install and manage the Controller and Events Service. A CLI version exists but is outside the scope of this lab.

Reference: [Enterprise Console Documentation](https://docs.appdynamics.com/appd/onprem/24.x/24.4/en/enterprise-console)

1. Download the Enterprise Console installer  
   Log into [AppDynamics Accounts](https://accounts.appdynamics.com) and download **Enterprise Console - 64-bit Linux (.sh)**

2. Copy the `.sh` file to your host (via SCP or WinSCP).

3. Make the installer executable:
   ```bash
   chmod a+x platform-setup-x64-linux-20.x.x.x.sh
   ```

4. Run the installer:
   ```bash
   sudo su
   ./platform-setup-x64-linux-20.x.x.x.sh
   ```

   After a few minutes, you should see:
   ```
   Setup has finished installing AppDynamics Enterprise Console on your computer.
   To install and manage your AppDynamics Platform, use the Enterprise Console
   CLI from /opt/appdynamics/platform/platform-admin/bin directory.
   Finishing installation ...
   ```

5. Verify the Enterprise Console is running:  
   Open a web browser and go to:
   ```
   http://<your-ip>:<EnterpriseConsolePort>
   ```
   Use credentials from installation (default example):
   ```
   Username: admin
   Password: shadyemad
   ```

   <img width="3360" height="1952" alt="02-EnterpriseConsoleLogin" src="https://github.com/user-attachments/assets/4382d833-7cf8-40c1-b5ed-46c08b7830ec" />


---

### Step 4: Install AppDynamics Controller & Events Service

From the Enterprise Console browser interface, use the Express Install wizard to install both the Controller and Events Service.

- **Controller:** Provides the AppDynamics GUI and uses MySQL backend.
- **Events Service:** Stores unstructured data generated by AppDynamics.

Reference:  
[Controller Documentation](https://docs.appdynamics.com/appd/onprem/24.x/24.4/en/controller-deployment)  
[Events Service Documentation](https://docs.appdynamics.com/appd/onprem/24.x/24.4/en/events-service-deployment)

1. From the Enterprise Console UI, go to the **Install** tab → select **Express Install**.

   ![Install Platform](https://github.com/user-attachments/assets/82d9404f-5467-4395-89b6-e68865058620)

2. Name the platform and confirm the default installation path.

   ![Platform Name](https://github.com/user-attachments/assets/5c192976-0309-4650-9393-d362df719b02)

3. Add host → select **Use Enterprise Console Host**.

   ![Add Host](https://github.com/user-attachments/assets/a658bc35-0037-41f2-b4d1-453b66376b9b)

4. Configure Controller settings:
   - **Profile:** Demo
   - **Controller Admin Username:** admin  
   - **Controller Admin Password:** welcome1  
   - **Controller Root User Password:** welcome1  
   - **Database Root Password:** welcome1  

   ![Controller Config](https://github.com/user-attachments/assets/fe6edb88-4d13-4117-8c78-49f058a41256)

5. Click **Submit**. The installation will begin and may take up to 15 minutes.

6. When jobs complete successfully, verify both **Controller** and **Events Service** show a **Normal** health state.

   ![Running Jobs](https://github.com/user-attachments/assets/21d4afcb-a434-4bd0-9ec5-fcd098a85a5a)

7. Confirm Controller is accessible via browser:
   ```
   http://<your-ip>:8090
   ```
   Login with:
   ```
   Username: admin
   Password: welcome1
   ```

   ![Controller Login](https://github.com/user-attachments/assets/2f4667d2-4f2e-4321-ad15-e345acba76c0)

---

## Notes

If the server restarts, you can start all services manually via CLI:

```bash
cd /opt/appdynamics/platform/platform-admin
bin/platform-admin.sh start-platform-admin
bin/platform-admin.sh start-controller-db
bin/platform-admin.sh start-controller-appserver
bin/platform-admin.sh submit-job --platform-name AppDPlatform --service events-service --job start
cd /opt/appdynamics/eum/eum-processor/
bin/eum.sh start
```

---

## Author

**Shady Emad**
